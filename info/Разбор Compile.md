### üìå –†–∞–∑–±–æ—Ä —Ñ—É–Ω–∫—Ü–∏–∏ `CompileShader()`

–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ **—Å–æ–∑–¥–∞–Ω–∏–µ –∏ –∫–æ–º–ø–∏–ª—è—Ü–∏—é —à–µ–π–¥–µ—Ä–∞ –≤ OpenGL**. –î–∞–≤–∞–π —Ä–∞–∑–±–µ—Ä—ë–º –µ—ë **–ø–æ—Å—Ç—Ä–æ—á–Ω–æ**.

---

### üìú **–ü–æ–ª–Ω—ã–π –∫–æ–¥**

```cpp
GLuint CompileShader(GLenum type, const char* source) {
    GLuint shader = glCreateShader(type);         // 1. –°–æ–∑–¥–∞—ë–º –ø—É—Å—Ç–æ–π —à–µ–π–¥–µ—Ä
    glShaderSource(shader, 1, &source, nullptr);  // 2. –ü–µ—Ä–µ–¥–∞—ë–º –∫–æ–¥ —à–µ–π–¥–µ—Ä–∞ –≤ OpenGL
    glCompileShader(shader);                      // 3. –ö–æ–º–ø–∏–ª–∏—Ä—É–µ–º —à–µ–π–¥–µ—Ä

    int success;
    glGetShaderiv(shader, GL_COMPILE_STATUS, &success); // 4. –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
    if (!success) { 
        char infoLog[512];
        glGetShaderInfoLog(shader, 512, nullptr, infoLog); // 5. –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ ‚Äî –ø–æ–ª—É—á–∞–µ–º –ª–æ–≥
        std::cout << "–û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ —à–µ–π–¥–µ—Ä–∞: " << infoLog << std::endl;
    }
    return shader; // 6. –í–æ–∑–≤—Ä–∞—â–∞–µ–º ID —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —à–µ–π–¥–µ—Ä–∞
}
```

---

## üîç **–†–∞–∑–±–æ—Ä –ø–æ—Å—Ç—Ä–æ—á–Ω–æ**

### üü¢ 1. `GLuint shader = glCreateShader(type);`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç?**  
üîπ –°–æ–∑–¥–∞—ë—Ç –ø—É—Å—Ç–æ–π –æ–±—ä–µ–∫—Ç —à–µ–π–¥–µ—Ä–∞ –≤ OpenGL.  
üîπ `type` –º–æ–∂–µ—Ç –±—ã—Ç—å `GL_VERTEX_SHADER` (–≤–µ—Ä—à–∏–Ω–Ω—ã–π) –∏–ª–∏ `GL_FRAGMENT_SHADER` (—Ñ—Ä–∞–≥–º–µ–Ω—Ç–Ω—ã–π).  
üîπ –§—É–Ω–∫—Ü–∏—è `glCreateShader()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **—É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID —à–µ–π–¥–µ—Ä–∞**, –∫–æ—Ç–æ—Ä—ã–π –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–ª—å—à–µ.

> **–ü—Ä–∏–º–µ—Ä:** `GLuint shader = glCreateShader(GL_VERTEX_SHADER);` ‚Äî —Å–æ–∑–¥–∞—ë—Ç –≤–µ—Ä—à–∏–Ω–Ω—ã–π —à–µ–π–¥–µ—Ä.

---

### üü¢ 2. `glShaderSource(shader, 1, &source, nullptr);`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç?**  
üîπ –ó–∞–≥—Ä—É–∂–∞–µ—Ç **—Ç–µ–∫—Å—Ç GLSL-–∫–æ–¥–∞ —à–µ–π–¥–µ—Ä–∞** –≤ OpenGL.  
üîπ –ü–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç ‚Äî **ID —à–µ–π–¥–µ—Ä–∞**.  
üîπ –í—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç (`1`) ‚Äî **–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞** (–æ–±—ã—á–Ω–æ –æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞).  
üîπ –¢—Ä–µ—Ç–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç (`&source`) ‚Äî **–∞–¥—Ä–µ—Å —Å—Ç—Ä–æ–∫–∏ —Å –∫–æ–¥–æ–º —à–µ–π–¥–µ—Ä–∞**.  
üîπ –ß–µ—Ç–≤—ë—Ä—Ç—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç (`nullptr`) ‚Äî –µ—Å–ª–∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫, —Ç–æ —Ç—É—Ç –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∏—Ö –¥–ª–∏–Ω—ã.

> **–ü—Ä–∏–º–µ—Ä:** `glShaderSource(shader, 1, &vertexShaderSource, nullptr);` ‚Äî –ø–µ—Ä–µ–¥–∞—ë—Ç –∫–æ–¥ –≤–µ—Ä—à–∏–Ω–Ω–æ–≥–æ —à–µ–π–¥–µ—Ä–∞.

---

### üü¢ 3. `glCompileShader(shader);`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç?**  
üîπ –ö–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç —à–µ–π–¥–µ—Ä–Ω—ã–π –∫–æ–¥ **–∏–∑ GLSL –≤ –º–∞—à–∏–Ω–Ω—ã–π –∫–æ–¥ –¥–ª—è –≤–∏–¥–µ–æ–∫–∞—Ä—Ç—ã**.  
üîπ –ï—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏ ‚Äî OpenGL —Å–æ—Ö—Ä–∞–Ω–∏—Ç –∏—Ö, –Ω–æ –Ω–µ —Å–æ–æ–±—â–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

---

### üü¢ 4. `glGetShaderiv(shader, GL_COMPILE_STATUS, &success);`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç?**  
üîπ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç **—É—Å–ø–µ—à–Ω–æ—Å—Ç—å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ —à–µ–π–¥–µ—Ä–∞**.  
üîπ `glGetShaderiv()` –ø–æ–ª—É—á–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —à–µ–π–¥–µ—Ä–∞.  
üîπ `GL_COMPILE_STATUS` –≥–æ–≤–æ—Ä–∏—Ç, **—Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω –ª–∏ —à–µ–π–¥–µ—Ä –±–µ–∑ –æ—à–∏–±–æ–∫**.  
üîπ `success` –±—É–¥–µ—Ç `1`, –µ—Å–ª–∏ –≤—Å—ë –ø—Ä–æ—à–ª–æ —É—Å–ø–µ—à–Ω–æ, –∏ `0`, –µ—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏.

> **–ü—Ä–∏–º–µ—Ä:** –ï—Å–ª–∏ `success == 0`, –∑–Ω–∞—á–∏—Ç –≤ –∫–æ–¥–µ —à–µ–π–¥–µ—Ä–∞ –µ—Å—Ç—å –æ—à–∏–±–∫–∞!

---

### üü¢ 5. `glGetShaderInfoLog(shader, 512, nullptr, infoLog);`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç?**  
üîπ –ï—Å–ª–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏—è **–ø—Ä–æ–≤–∞–ª–∏–ª–∞—Å—å**, —ç—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–∞–µ—Ç **—Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏**.  
üîπ `512` ‚Äî —Ä–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ –¥–ª—è –æ—à–∏–±–∫–∏ (–º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å).  
üîπ `infoLog` ‚Äî —Å—Ç—Ä–æ–∫–∞, –∫—É–¥–∞ OpenGL –∑–∞–ø–∏—à–µ—Ç —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏.  
üîπ `std::cout` –≤—ã–≤–µ–¥–µ—Ç –æ—à–∏–±–∫—É –≤ –∫–æ–Ω—Å–æ–ª—å.

> **–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ –æ—à–∏–±–∫–∏:**

```
–û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ —à–µ–π–¥–µ—Ä–∞: ERROR: 0:3: 'glPosition' : undeclared identifier
```

–ó–Ω–∞—á–∏—Ç, —É —Ç–µ–±—è –æ—à–∏–±–∫–∞ –≤ –∫–æ–¥–µ —à–µ–π–¥–µ—Ä–∞.

---

### üü¢ 6. `return shader;`

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç?**  
üîπ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç **ID —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —à–µ–π–¥–µ—Ä–∞**, –∫–æ—Ç–æ—Ä—ã–π –ø–æ—Ç–æ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `glAttachShader()`.

---

## üìå **–ò—Ç–æ–≥**

### üî• **–§—É–Ω–∫—Ü–∏—è `CompileShader()` –¥–µ–ª–∞–µ—Ç 3 –≥–ª–∞–≤–Ω—ã–µ –≤–µ—â–∏**:

1Ô∏è‚É£ **–°–æ–∑–¥–∞—ë—Ç —à–µ–π–¥–µ—Ä –≤ OpenGL (`glCreateShader`)**  
2Ô∏è‚É£ **–ó–∞–≥—Ä—É–∂–∞–µ—Ç GLSL-–∫–æ–¥ –∏ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç (`glShaderSource`, `glCompileShader`)**  
3Ô∏è‚É£ **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –æ—à–∏–±–∫–∏ (`glGetShaderiv`, `glGetShaderInfoLog`)**

**–ë–µ–∑ —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —à–µ–π–¥–µ—Ä –º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å, –∏ —Ç—ã –Ω–µ —É–∑–Ω–∞–µ—à—å –ø–æ—á–µ–º—É!**

---

## üì¢ **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã**

1. **–ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ `glGetShaderInfoLog()` –Ω–µ –≤—ã–≤–æ–¥–∏—Ç –æ—à–∏–±–∫—É, –Ω–æ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫ –Ω–µ —Ä–∏—Å—É–µ—Ç—Å—è?**  
    ‚Üí –ü—Ä–æ–≤–µ—Ä—å `glLinkProgram()` (–æ–Ω —Ç–æ–∂–µ –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å—Å—è).
    
2. **–ú–æ–∂–Ω–æ –ª–∏ –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å —à–µ–π–¥–µ—Ä –±–µ–∑ `CompileShader()`?**  
    ‚Üí –î–∞, –Ω–æ —ç—Ç–æ –∑–∞–π–º—ë—Ç –±–æ–ª—å—à–µ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞ –∏ –±—É–¥–µ—Ç –Ω–µ—É–¥–æ–±–Ω–æ.
    
3. **–ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É `ERROR: 0:1: 'version' : syntax error`?**  
    ‚Üí –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —à–µ–π–¥–µ—Ä –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `#version 330 core`.
    

---
